(()=>{"use strict";const e=20;var t=0,n=0,o=0,i=0;const d=document.getElementById("room-width"),s=document.getElementById("room-height"),l=document.getElementById("room-width-value"),r=document.getElementById("room-height-value"),a=document.getElementById("rugs-catalog"),c=document.getElementById("the-walls"),g=document.getElementById("the-room");!function(t){for(let n=1;n<100;n++){const o=document.createElement("div");o.style.width="1px",o.style.height="100%",o.style.borderLeft="dotted 1px #ccc",o.style.position="absolute",o.style.top="0",o.style.bottom="0",o.style.left=n*e+"px",t.appendChild(o);const i=document.createElement("div");i.style.width="100%",i.style.height="1px",i.style.borderTop="dotted 1px #ccc",i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top=n*e+"px",t.appendChild(i)}}(g),g.addEventListener("drop",(e=>function(e){const d=document.getElementById("active-rug");e.offsetX>=0&&(d.style.left=m(e.offsetX-t,g.clientWidth-o)+"px"),e.offsetY>=0&&(d.style.top=m(e.offsetY-n,g.clientHeight-i)+"px")}(e))),g.addEventListener("dragenter",(e=>function(e){e.preventDefault()}(e))),g.addEventListener("dragover",(e=>function(e){e.preventDefault()}(e))),g.addEventListener("dragleave",(e=>{})),d.addEventListener("input",y),s.addEventListener("input",y);const p=[{name:"Rug 1<span>7x10</span>",w:7,h:10,color:"red",img:"../img/CarpetC.jpg"},{name:"Rug 2<span>12x12</span>",w:12,h:12,color:"green",img:"../img/CarpetB.png"},{name:"Rug 3<span>12x6</span>",w:12,h:6,color:"blue",img:"../img/CarpetD.png"}];for(let e=1;e<=3;e++)u(p[e-1]);function u(d){const s=document.createElement("li");s.innerHTML=d.name;const l=document.createElement("img");l.style.maxWidth="62px",l.style.paddingTop="4px",l.src=d.img,s.appendChild(l),s.addEventListener("click",(()=>g.appendChild(function(d){!function(){const e=document.getElementById("active-rug");e&&g.removeChild(e)}();const s=document.createElement("div");return s.style.position="absolute",s.style.width=d.w*e+"px",s.style.height=d.h*e+"px",s.style.top="0",s.style.left="0",s.id="active-rug",s.draggable=!0,d.img?(s.style.backgroundImage=`url(${d.img})`,s.style.backgroundSize=`${d.w*e}px ${d.h*e}px`):s.style.backgroundColor=d.color,s.addEventListener("dragstart",(e=>function(e){const o=e.target;o.style.cursor="move",e.dataTransfer.setData("text/plain",o.id),setTimeout((()=>{o.style.visibility="hidden",o.style.border="dashed 1px #888"}),0),t=e.offsetX,n=e.offsetY,console.log(`Start rug drag... initialXY = (${t}, ${n})`)}(e))),s.addEventListener("drag",(e=>{})),s.addEventListener("dragend",(e=>function(e){const t=e.target;setTimeout((()=>t.style.visibility="visible"),0)}(e))),o=d.w*e,i=d.h*e,s}(d)))),a.appendChild(s)}function m(t,n){const o=Math.floor((t+10)/e)*e;return o<0?0:o>n?n:o}function y(){const t=parseInt(d.value),n=parseInt(s.value);c.style.width=(t*e).toFixed()+"px",c.style.height=(n*e).toFixed()+"px",r.innerHTML=`${n.toFixed()} ft`,l.innerHTML=`${t.toFixed()} ft`}})();